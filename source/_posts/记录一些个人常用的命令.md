---
title: 记录一些个人常用的命令
tags: [Windows, ffmpeg, cmd]
categories: [未归档]
hide: false
top: false
date: 2024-01-09 20:03:18
---

默认使用 WSL 1 的命令行窗口。

## 1 FFmpeg

### 序列帧转视频

```shell
ffmpeg.exe -start_number xxx -framerate 30 -i "%04d.png" -r 30 -c:v libx264 -crf 25 output.mp4
ffmpeg.exe -start_number xxx -framerate 30 -i "%04d.png" -r 30 -c:v libx264 -crf 0 -preset veryslow output.mp4
```

### 字幕 ass 文件转 mov

需要注意更改：分辨率、结束时间、帧率

```shell
ffmpeg.exe -f lavfi -i "color=color=black@0.0:size=2880x1620,format=rgba,subtitles=<subtitle>.ass:alpha=1" -c:v png -t "0:01:50.37" -framerate 30 -r 30 <subtitle>.mov -stats
```

### 更改图片分辨率

假设需要将输入图片的分辨率改为1920x1080

```shell
ffmpeg.exe -i in.png -vf scale=1920:1080 -pred mixed out.png
```

### 修改音频采样率

```shell
ffmpeg.exe -i a.mp3 -ar 48000 output.mp3
```

### 格式转换

```shell
ffmpeg.exe -i in.m4a out.mp3 # 音频格式转换
ffmpeg.exe -i in.mp4 out.mp3 # 提取视频的音频
ffmpeg.exe -i in.mkv -c:v libx264 -crf out.mp4 # 视频转mp4，x264编码
```

<!--More-->

## 2 Windows

### 创建软链接

需使用 cmd 窗口，否则无法使用 `mklink` 命令。

```shell
mklink /j <linkfile-name> <target-dir-path>
```

### 刷新 Icon 缓存

```shell
rm /mnt/c/Users/shuzixi/AppData/Local/IconCache.db
```

然后重启 `explorer.exe` 进程。

### 打开当前目录

```shell
explorer.exe .
```

## 3 Blender

### 渲染特定帧

假设需要渲染 417、418、500、501 这几帧

```shell
blender.exe -b "<scene>.blend" -f 417,418,500,501
```





